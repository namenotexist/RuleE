# PIPELINE
- origintext.txt
    - format
        - cate_id	cate_name	source1	item_id1	title1	pv_pairs1	source2	item_id2	title2	pv_pairs2	label	_c1
        
        - 123210006	千张	TB	5.48348E+11	湖州特产丁莲芳千张包子百年秘制馅料传统味10只260g（真空抽气）	系列#:#千张包#;#口味#:#传统（真空抽气包装）#;#品牌#:#丁莲芳#;#产地#:#中国大陆#;#包装方式#:#包装#;#重量#:#260#;#省份#:#浙江省	TMALL	5.24639E+11	丁莲芳两只装包子（整箱）52g*150个湖州特产开袋即食包装	豆制品种类#:#其他/other#;#品牌#:#丁莲芳#;#产地#:#中国大陆#;#省份#:#浙江省#;#重量#:#7800#;#口味#:#原味#;#包装方式#:#包装#;#系列#:#千张包	0	FALSE
        

<-------------
through orgintext2triplettext.py
------------->
- triplets.pkl
    > a list which each element is an instace, 
    and each instance is also a list 
    which contains several triplets,
    each triplet is also a list
    which has format like: P  V1  V2
    
        [[['系列', '千张包', '千张包'], 
        ['口味', '传统（真空抽气包装）', '原味'], 
        ['品牌', '丁莲芳', '丁莲芳'], 
        ['产地', '中国大陆', '中国大陆'], 
        ['包装方式', '包装', '包装'], 
        ['重量', '260', '7800'], 
        ['省份', '浙江省', '浙江省'],
         '0'],
        [['包装方式', '包装', '包装'], 
        ['品牌', 'Whole Perfect Food/齐善食品', 'Whole Perfect Food/齐善食品'], 
        ['系列', '魔芋系列', '大善红肠3包'], 
        ['重量', '200', '200'], 
        ['省份', '广东省', '广东省'], 
        ['产地', '中国大陆', '中国大陆'], 
        '0']
        ......
         ]
    
         
<--------------
through triplettext2ids.py

we will generate following dict file:

entity2id

    {'丁莲芳' : 142, '不适宜人群' : 19, '中国产区' : 86, '中国大陆' : 143}

id2entity

    {142 : '丁莲芳', 19 : '不适宜人群', 86 : '中国产区', 143 : '中国大陆'}


property2id

    <class 'dict'>: {'系列': 0, '口味': 1, '品牌': 2, '产地': 3, '包装方式': 4, '重量': 5, '省份': 6}

id2property

    <class 'dict'>: {0: '系列', 1: '口味', 2: '品牌', 3: '产地', 4: '包装方式', 5: '重量', 6: '省份'}

value2id

    { '千张包': 139, '传统（真空抽气包装）' : 140, '原味' : 141, '丁莲芳' : 142 , '中国大陆' : 143}

id2value

    { 139 : '千张包', 140 : '传统（真空抽气包装）', 141 : '原味', 142 : '丁莲芳', 143 : '中国大陆'}

tripletid

    <class 'list'>: [[52632, 139, 139], 
                    [41318, 140, 141], 
                    [2, 142, 142], 
                    [26742, 143, 143], 
                    [4, 144, 144], 
                    [5, 145, 146], 
                    [6, 147, 147],
                    1]

tupleid

            [[52632, 139], 
            [41318, -1], 
            [2, 142], 
            [26742, 143], 
            [4, 144], 
            [5, -1], 
            [6, 147],
            0]  

<---------------through TrainTestValidSplit--------------->
we will generate following list file:

train

    <class 'list'>: [[43071, -1], 
                      [25, -1], 
                      [21, -1], 
                      [6, -1], 
                      [22, 2717], 
                      [10, 232], 
                      [54980, -1], 
                      [66, 70731], 
                      [4, 144], 
                      [2, 1285], 
                      [8, -1], 
                      [27731, 143],
                      0]

test

    <class 'list'>: [[6, 374], 
                    [27731, 143], 
                    [21, 3101], 
                    [4, 144],
                    1]

valid